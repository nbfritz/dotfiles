# This is Git's per-user configuration file.
[user]
# Please adapt and uncomment the following lines:
  name = Nathan Fritz
  email = nfritz@xoi.io
[branch]
  autosetuprebase = always # Configures all tracking branches to use rebase
[core]
  autocrlf = input
  excludesfile = ~/.gitignore
	pager = cat
[merge]
  ff = only # Only allow fast-forward merges
[pull]
  rebase = true # Rebase branches on top of the fetched branch
[push]
  default = current
[alias]
  # helpers used by other aliases
  x-list-branches = branch --format "%(refname:short)"
  x-all-branches = listbranches -a
  x-remote-branches = listbranches -r
  x-list-prs = !GH_FORCE_TTY=100% gh pr list
  x-fzf-multi-w-branch = !fzf --bind="space:toggle" --ansi --multi --preview=\"git brief --color -n30 {}\" --preview-window="$([[ $(tput cols) -gt 160 ]] && echo 'right,50%' || echo 'up,70%')"
  x-fzf-w-branch = !fzf --ansi --preview=\"git brief --color -n30 {}\" --preview-window="$([[ $(tput cols) -gt 160 ]] && echo 'right,50%' || echo 'up,70%')"
  x-fzf-w-prinfo = !fzf --ansi --header-lines=3 --preview=\"echo {} | cut -wf1 | GH_FORCE_TTY=100% xargs gh pr view\" --preview-window="$([[ $(tput cols) -gt 160 ]] && echo 'right,50%' || echo 'up,70%') | cut -wf1"
  # normal aliases
  defbranch = !git symbolic-ref --short refs/remotes/origin/HEAD | cut -d"/" -f2
  last = log --format=\"%C(auto)%h%d%n%C(blue bold)%cl%C(reset): %C(white bold)%s%C(reset)\" -n 1
  brief = log --graph --decorate --oneline
  lol = !git brief
  br = !git brief --color=always | head -n $((`tput lines` / 2))
  devmerge = !git checkout develop && git symbolic-ref --short HEAD && git pull && git checkout - && git rebase develop
  mastermerge = !git checkout master && git pull && git checkout - && git rebase master
  yolo = !gitverify && git push --force-with-lease
  amend = !gitverify && git commit -a --amend --no-edit
  co = checkout
  prco = !gh pr checkout
  wip = commit -nm "WIP"
  # crazy fzf integrations
  cleanup = !git x-list-branches | git x-fzf-multi-w-branch | xargs git branch -d
  forcecleanup = !git x-list-branches | git x-fzf-multi-w-branch | xargs git branch -D
  pick = !git x-list-branches | git x-fzf-w-branch | xargs git checkout
  pickall = !git x-all-branches | git x-fzf-w-branch | xargs git checkout
  prpick = !git x-list-prs | git x-fzf-w-prinfo | xargs gh pr checkout
[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  required = true
  process = git-lfs filter-process
